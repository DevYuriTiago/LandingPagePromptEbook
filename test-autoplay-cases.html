<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Teste - Cases com V√≠deos Autoplay</title>
    <link rel="stylesheet" href="css/prompts360-final.css">
    <style>
        body {
            background: #0a0a0a;
            color: white;
            font-family: 'Inter', sans-serif;
            margin: 0;
            padding: 0;
        }
        
        .test-header {
            background: rgba(30, 144, 255, 0.1);
            padding: 20px;
            text-align: center;
            border-bottom: 2px solid rgba(30, 144, 255, 0.3);
        }
        
        .test-info {
            background: rgba(255, 255, 255, 0.05);
            padding: 20px;
            margin: 20px;
            border-radius: 10px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .test-info h3 {
            color: #00bfff;
            margin-top: 0;
        }
        
        .test-info ul {
            list-style: none;
            padding: 0;
        }
        
        .test-info li {
            margin: 10px 0;
            padding: 10px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 5px;
            border-left: 4px solid #00bfff;
        }
        
        .scroll-instruction {
            background: rgba(255, 165, 0, 0.1);
            border-left-color: #ffa500;
            font-weight: bold;
            text-align: center;
            font-size: 1.1em;
        }
        
        .spacer {
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(45deg, rgba(30, 144, 255, 0.1), rgba(0, 191, 255, 0.05));
        }
        
        .spacer h2 {
            font-size: 2rem;
            text-align: center;
            opacity: 0.7;
        }
        
        /* For√ßar visibilidade da se√ß√£o */
        #cases-section {
            display: block !important;
            visibility: visible !important;
        }
    </style>
</head>
<body>
    <div class="test-header">
        <h1>üé¨ Teste - Cases com V√≠deos Autoplay</h1>
        <p>Sistema de v√≠deos que reproduzem automaticamente quando a se√ß√£o est√° vis√≠vel</p>
    </div>
    
    <div class="test-info">
        <h3>üìã Como Funciona</h3>
        <ul>
            <li>‚úÖ V√≠deos reproduzem automaticamente quando a se√ß√£o entra na viewport</li>
            <li>‚è∏Ô∏è V√≠deos pausam e voltam ao in√≠cio quando a se√ß√£o sai da viewport</li>
            <li>üîÑ V√≠deos ficam em loop infinito enquanto vis√≠veis</li>
            <li>üîá V√≠deos s√£o mudos (sem √°udio)</li>
            <li>üì± Funciona em dispositivos m√≥veis e desktop</li>
        </ul>
    </div>
    
    <div class="test-info">
        <h3>üéØ Instru√ß√µes de Teste</h3>
        <ul>
            <li class="scroll-instruction">üëá Role para baixo para ver os v√≠deos iniciarem automaticamente</li>
            <li>üëÜ Role para cima para ver os v√≠deos pausarem</li>
            <li>üîÑ Role para baixo novamente para v√™-los reiniciar</li>
            <li>üñ•Ô∏è Abra o console do navegador (F12) para ver os logs</li>
        </ul>
    </div>
    
    <div class="spacer">
        <h2>üëá Role para baixo para ver os Cases de Sucesso üëá</h2>
    </div>
    
    <!-- Cases de Sucesso Section -->
    <section class="section" id="cases-section">
        <div class="section-connector"></div>
        <div class="cases-container">
            <div class="cases-header">
                <h2 class="cases-title animate-on-scroll">
                    <span class="title-main">Cases de Sucesso</span>
                    <span class="title-subtitle">V√≠deos com Autoplay - Transforma√ß√µes reais com resultados comprovados</span>
                </h2>
            </div>
            
            <div class="cases-grid">
                <div class="case-card glass-card animate-on-scroll" data-case-id="case1">
                    <div class="case-header">
                        <div class="case-category">E-commerce</div>
                        <h3 class="case-title">Automa√ß√£o E-commerce</h3>
                        <div class="case-company">TechStore Brasil</div>
                    </div>
                    
                    <div class="case-content">
                        <div class="case-video-container">
                            <video class="case-video" 
                                   data-src="video/cases/case1.mp4" 
                                   muted 
                                   loop 
                                   playsinline 
                                   preload="metadata">
                                <source src="video/cases/case1.mp4" type="video/mp4">
                                <div style="display: flex; align-items: center; justify-content: center; height: 100%; background: rgba(30, 144, 255, 0.1); color: white; font-size: 14px; text-align: center;">
                                    üìπ V√≠deo case1.mp4<br>
                                    <small>Adicione o arquivo na pasta video/cases/</small>
                                </div>
                            </video>
                        </div>
                        
                        <div class="case-details">
                            <div class="case-challenge">
                                <h4>Desafio</h4>
                                <p>Reduzir tempo de atendimento e aumentar convers√µes</p>
                            </div>
                            
                            <div class="case-solution">
                                <h4>Solu√ß√£o</h4>
                                <p>Chatbot inteligente + Automa√ß√£o de vendas</p>
                            </div>
                            
                            <div class="case-results">
                                <h4>Resultados</h4>
                                <ul class="results-list">
                                    <li class="result-item">
                                        <span class="result-icon">‚úì</span>
                                        <span>300% ROI</span>
                                    </li>
                                    <li class="result-item">
                                        <span class="result-icon">‚úì</span>
                                        <span>70% redu√ß√£o no tempo de resposta</span>
                                    </li>
                                    <li class="result-item">
                                        <span class="result-icon">‚úì</span>
                                        <span>45% aumento nas vendas</span>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="case-card glass-card animate-on-scroll" data-case-id="case2">
                    <div class="case-header">
                        <div class="case-category">Recursos Humanos</div>
                        <h3 class="case-title">IA para Recursos Humanos</h3>
                        <div class="case-company">Inova√ß√£o RH</div>
                    </div>
                    
                    <div class="case-content">
                        <div class="case-video-container">
                            <video class="case-video" 
                                   data-src="video/cases/case2.mp4" 
                                   muted 
                                   loop 
                                   playsinline 
                                   preload="metadata">
                                <source src="video/cases/case2.mp4" type="video/mp4">
                                <div style="display: flex; align-items: center; justify-content: center; height: 100%; background: rgba(30, 144, 255, 0.1); color: white; font-size: 14px; text-align: center;">
                                    üìπ V√≠deo case2.mp4<br>
                                    <small>Adicione o arquivo na pasta video/cases/</small>
                                </div>
                            </video>
                        </div>
                        
                        <div class="case-details">
                            <div class="case-challenge">
                                <h4>Desafio</h4>
                                <p>Triagem eficiente de curr√≠culos e candidatos</p>
                            </div>
                            
                            <div class="case-solution">
                                <h4>Solu√ß√£o</h4>
                                <p>Sistema de IA para an√°lise de perfis</p>
                            </div>
                            
                            <div class="case-results">
                                <h4>Resultados</h4>
                                <ul class="results-list">
                                    <li class="result-item">
                                        <span class="result-icon">‚úì</span>
                                        <span>80% redu√ß√£o no tempo de triagem</span>
                                    </li>
                                    <li class="result-item">
                                        <span class="result-icon">‚úì</span>
                                        <span>95% precis√£o na sele√ß√£o</span>
                                    </li>
                                    <li class="result-item">
                                        <span class="result-icon">‚úì</span>
                                        <span>60% economia de custos</span>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="case-card glass-card animate-on-scroll" data-case-id="case3">
                    <div class="case-header">
                        <div class="case-category">Financeiro</div>
                        <h3 class="case-title">An√°lise Preditiva Financeira</h3>
                        <div class="case-company">FinTech Solutions</div>
                    </div>
                    
                    <div class="case-content">
                        <div class="case-video-container">
                            <video class="case-video" 
                                   data-src="video/cases/case3.mp4" 
                                   muted 
                                   loop 
                                   playsinline 
                                   preload="metadata">
                                <source src="video/cases/case3.mp4" type="video/mp4">
                                <div style="display: flex; align-items: center; justify-content: center; height: 100%; background: rgba(30, 144, 255, 0.1); color: white; font-size: 14px; text-align: center;">
                                    üìπ V√≠deo case3.mp4<br>
                                    <small>Adicione o arquivo na pasta video/cases/</small>
                                </div>
                            </video>
                        </div>
                        
                        <div class="case-details">
                            <div class="case-challenge">
                                <h4>Desafio</h4>
                                <p>Prever inadimpl√™ncia e otimizar cr√©dito</p>
                            </div>
                            
                            <div class="case-solution">
                                <h4>Solu√ß√£o</h4>
                                <p>Machine Learning para an√°lise de risco</p>
                            </div>
                            
                            <div class="case-results">
                                <h4>Resultados</h4>
                                <ul class="results-list">
                                    <li class="result-item">
                                        <span class="result-icon">‚úì</span>
                                        <span>40% redu√ß√£o na inadimpl√™ncia</span>
                                    </li>
                                    <li class="result-item">
                                        <span class="result-icon">‚úì</span>
                                        <span>25% aumento na aprova√ß√£o</span>
                                    </li>
                                    <li class="result-item">
                                        <span class="result-icon">‚úì</span>
                                        <span>200% ROI</span>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="cases-stats animate-on-scroll">
                <div class="stat-item">
                    <div class="stat-number" data-count="50">50</div>
                    <div class="stat-label">Projetos Entregues</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number" data-count="95">95</div>
                    <div class="stat-label">% Taxa de Sucesso</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number" data-count="300">300</div>
                    <div class="stat-label">% ROI M√©dio</div>
                </div>
            </div>
        </div>
        
        <div class="floating-elements">
            <div class="floating-element floating-element-1"></div>
            <div class="floating-element floating-element-2"></div>
            <div class="floating-element floating-element-3"></div>
            <div class="floating-element floating-element-4"></div>
            <div class="floating-element floating-element-5"></div>
        </div>
    </section>
    
    <div class="spacer">
        <h2>üëÜ Role para cima para ver os v√≠deos pausarem üëÜ</h2>
    </div>
    
    <div class="test-info">
        <h3>üéØ Status do Teste</h3>
        <div id="test-status">
            <p>‚è≥ Aguardando inicializa√ß√£o do sistema...</p>
        </div>
    </div>
    
    <!-- Script para V√≠deos dos Cases com Autoplay -->
    <script>
        console.log('üé¨ Iniciando sistema de v√≠deos dos cases com autoplay...');
        
        // Configura√ß√£o do Intersection Observer
        const observerOptions = {
            root: null,
            rootMargin: '0px',
            threshold: 0.3 // 30% da se√ß√£o deve estar vis√≠vel
        };
        
        let casesVideos = [];
        let isInViewport = false;
        
        // Fun√ß√£o para atualizar status na tela
        function updateStatus(message) {
            const statusDiv = document.getElementById('test-status');
            if (statusDiv) {
                statusDiv.innerHTML = `<p>${message}</p>`;
            }
        }
        
        // Fun√ß√£o para inicializar os v√≠deos
        function initializeCasesVideos() {
            // Buscar todos os v√≠deos dos cases
            casesVideos = document.querySelectorAll('.case-video');
            
            console.log(`üé• Encontrados ${casesVideos.length} v√≠deos de cases`);
            updateStatus(`üé• Encontrados ${casesVideos.length} v√≠deos de cases`);
            
            // Configurar cada v√≠deo
            casesVideos.forEach((video, index) => {
                // Configura√ß√µes do v√≠deo
                video.muted = true;
                video.loop = true;
                video.playsInline = true;
                video.preload = 'metadata';
                
                // Adicionar classe de carregamento
                video.classList.add('loading');
                
                // Eventos do v√≠deo
                video.addEventListener('loadeddata', () => {
                    console.log(`‚úÖ V√≠deo ${index + 1} carregado`);
                    video.classList.remove('loading');
                    
                    // Se a se√ß√£o estiver vis√≠vel, iniciar o v√≠deo
                    if (isInViewport) {
                        playVideo(video);
                    }
                });
                
                video.addEventListener('playing', () => {
                    video.classList.add('playing');
                    video.classList.remove('paused');
                    console.log(`‚ñ∂Ô∏è V√≠deo ${index + 1} iniciado`);
                });
                
                video.addEventListener('pause', () => {
                    video.classList.add('paused');
                    video.classList.remove('playing');
                    console.log(`‚è∏Ô∏è V√≠deo ${index + 1} pausado`);
                });
                
                video.addEventListener('error', (e) => {
                    console.warn(`‚ö†Ô∏è Erro no v√≠deo ${index + 1}:`, e);
                    // Ocultar v√≠deo com erro e mostrar placeholder
                    video.style.display = 'none';
                    const container = video.closest('.case-video-container');
                    if (container) {
                        container.innerHTML = '<div style="display: flex; align-items: center; justify-content: center; height: 100%; background: rgba(255,0,0,0.1); color: white; font-size: 14px; text-align: center;">‚ùå V√≠deo n√£o encontrado<br><small>Adicione o arquivo na pasta video/cases/</small></div>';
                    }
                });
                
                console.log(`üé¨ V√≠deo ${index + 1} configurado:`, video.src || video.dataset.src);
            });
        }
        
        // Fun√ß√£o para reproduzir v√≠deo
        function playVideo(video) {
            if (video && !video.classList.contains('loading')) {
                video.play().catch(e => {
                    console.warn('Erro ao reproduzir v√≠deo:', e);
                    // Tentar novamente ap√≥s um breve delay
                    setTimeout(() => {
                        video.play().catch(() => {
                            console.warn('Falha definitiva ao reproduzir v√≠deo');
                        });
                    }, 1000);
                });
            }
        }
        
        // Fun√ß√£o para pausar v√≠deo
        function pauseVideo(video) {
            if (video && !video.paused) {
                video.pause();
                // Resetar para o in√≠cio
                video.currentTime = 0;
            }
        }
        
        // Fun√ß√£o para iniciar todos os v√≠deos
        function playAllVideos() {
            isInViewport = true;
            casesVideos.forEach(video => {
                playVideo(video);
            });
            console.log('‚ñ∂Ô∏è Todos os v√≠deos iniciados');
            updateStatus('‚ñ∂Ô∏è V√≠deos reproduzindo! A se√ß√£o est√° vis√≠vel.');
        }
        
        // Fun√ß√£o para pausar todos os v√≠deos
        function pauseAllVideos() {
            isInViewport = false;
            casesVideos.forEach(video => {
                pauseVideo(video);
            });
            console.log('‚è∏Ô∏è Todos os v√≠deos pausados');
            updateStatus('‚è∏Ô∏è V√≠deos pausados. A se√ß√£o saiu da viewport.');
        }
        
        // Intersection Observer para detectar quando a se√ß√£o est√° vis√≠vel
        const casesObserver = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    console.log('üëÄ Se√ß√£o de cases entrou na viewport');
                    playAllVideos();
                } else {
                    console.log('üëã Se√ß√£o de cases saiu da viewport');
                    pauseAllVideos();
                }
            });
        }, observerOptions);
        
        // Inicializar quando o DOM estiver carregado
        document.addEventListener('DOMContentLoaded', () => {
            console.log('üöÄ DOM carregado, inicializando sistema de v√≠deos...');
            updateStatus('üöÄ DOM carregado, inicializando sistema de v√≠deos...');
            
            // Aguardar um pouco para garantir que tudo esteja carregado
            setTimeout(() => {
                initializeCasesVideos();
                
                // Observar a se√ß√£o de cases
                const casesSection = document.getElementById('cases-section');
                if (casesSection) {
                    casesObserver.observe(casesSection);
                    console.log('üëÅÔ∏è Observer configurado para a se√ß√£o de cases');
                    updateStatus('üëÅÔ∏è Sistema pronto! Role para testar os v√≠deos.');
                } else {
                    console.error('‚ùå Se√ß√£o de cases n√£o encontrada!');
                    updateStatus('‚ùå Se√ß√£o de cases n√£o encontrada!');
                }
            }, 500);
        });
        
        // Cleanup quando a p√°gina for fechada
        window.addEventListener('beforeunload', () => {
            pauseAllVideos();
            casesObserver.disconnect();
        });
        
        // Pausar v√≠deos quando a p√°gina perde o foco
        document.addEventListener('visibilitychange', () => {
            if (document.hidden) {
                pauseAllVideos();
            } else if (isInViewport) {
                playAllVideos();
            }
        });
        
        console.log('‚úÖ Sistema de v√≠deos dos cases com autoplay carregado');
    </script>
</body>
</html>
